<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>Flair Caller</title>
  </head>
  <body style="background: #25252f;">
    <div style="display: flex; align-items: center; justify-content: center; flex-direction: column;">
      <div id="react-widget-root" style="margin-top: 50px;"></div>
      <img id="c7o-logo" src="/crescendo-logo.svg" height="40" style="margin-top: 40px; opacity: 0.7; display: none;"/>
    </div>

    <script>
      (function() {
        fetch('%PUBLIC_URL%/asset-manifest.json')
          .then(response => response.json())
          .then(manifest => {
            const mainScript = document.createElement('script');
            mainScript.src = manifest.files['main.js'];
            document.body.appendChild(mainScript);
          })
          .catch(error => {
            console.error('Error loading main.js:', error);
          })
          .then(() => {
            setTimeout(() => {
              // Call the renderWidget function with the ID of the root element and parameters
              window.renderWidget({
                elementId: 'react-widget-root',

                // For Vapi
                mode: 'vapi',
                apiKey: '3e4fd1ed-7902-49dd-814d-79b9b003976d',
                assistantId: '14fb9f06-ec25-4b3d-8781-4ae190395a75',

                // For Twilio
                // mode: 'twilio',
                // phoneNumber: '+16507501352',
              });
              document.getElementById('c7o-logo').style.display = 'block'
            }, 1000)
          })
      })();
    </script>
  </body>
</html>
